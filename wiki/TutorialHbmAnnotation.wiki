== Guzz JPA Annotation ==
Guzz支持JPA定义的注解，并参照hibernate进行了注解扩展，以满足guzz特性功能的声明需要。对于JPA自身的注解，使用方式与JPA规范规定的相同；对于扩展的注解，命名和使用方式与hibernate相同（除了包名不一样，其他几乎无差别）。
Guzz仅支持单对象ORM映射，不支持对象之间的关联映射（one-one, one-many, many-to, many-many），也不支持JPA的持久化方法。guzz annotation仅用来替代hbm.xml配置文件。
== Guzz JPA Annotation Reference ==
The Java Persistence API (JPA), part of the Java Enterprise Edition 5 (Java EE 5) Enterprise JavaBeans (EJB) 3.0 specification, greatly simplifies Java persistence and provides an object-relational mapping approach that allows you to declaratively define how to map Java objects to relational database tables in a standard, portable way that works both inside a Java EE 5 application server and outside an EJB container in a Java Standard Edition (Java SE) 5 application.
When using Guzz JPA, you can configure the JPA behavior of your entities using annotations. An annotation is a simple, expressive means of decorating Java source code with metadata that is compiled into the corresponding Java class files for interpretation at runtime by Guzz JPA to manage JPA behavior.
For example, to designate a Java class as a JPA entity, use the @Entity annotation as follows:

{code}
@javax.persistence.Entitypublic class Employee implements Serializable {    ...}
{code}
You can selectively decorate your entity classes with annotations to override  defaults. This is known as configuration by  exception.

This reference quotes extensively from the [JSR-220  Enterprise JavaBeans v.3.0|http://jcp.org/aboutJava/communityprocess/pfd/jsr220/index.html] Java Persistence API specification to summarize  annotation information by category (see [Table  1-1#CHDHCEJG]) and explains when and how you use these annotations to customize JPA  behavior to meet your application requirements.

For more information, see:
* [Index  of Annotations#IndexOfAnnotations]
* [Complete  JPA annotation Javadoc|http://java.sun.com/javaee/5/docs/api/index.html?javax/persistence/package-summary.html]Table 1-1 JPA Annotations by Category
CategoryDescriptionAnnotations|| Entity || By default, Guzz JPA assumes that a Java class is non-persistent and not  eligible for JPA services unless it is decorated with this annotation.
\\
Use this annotation to designate a plain old Java object (POJO) class as an  entity so that you can use it with JPA services.
\\
You must designate a class as a JPA entity (either using this annotation or  the orm.xml file) before you can use the class. || [@Entity#Entity]\\
||
| Database Schema Attributes | By default, Guzz JPA assumes that an entity's name corresponds to a database  table of the same name and that an entity's data member names correspond to  database columns with the same names. \\
Use these annotations to override this default behavior and fine-tune the  relationship between your object model and data model. | [@Table#Table]\\
\\
[@Column#Column]\\
[@org.guzz.annotations.Table#JoinColumn]\\
[@org.guzz.annotations.Column#JoinColumns] |
| Identity | By default, Guzz JPA assumes that each entity must have one field or property  that serves as a primary key specifed by @Id. \\
You can also use these annotations to fine-tune how your database maintains  the identity of your entities. | [@Id#Id]\\
[@#IdClass][org.guzz.annotations.GenericGenerator#JoinColumn]\\
[@#EmbeddedId][org.guzz.annotations.GenericGenerators#JoinColumn]\\
[@#JoinColumn][org.guzz.annotations.Parameter#JoinColumn]\\
[@GeneratedValue#GeneratedValue]\\
[@SequenceGenerator#SequenceGenerator]\\
[@TableGenerator#TableGenerator]||
| Direct Mappings | By default, Guzz JPA automatically configures a Basic mapping  for most Java primitive types, wrappers of the primitive types, and enums. \\
Use these annotations to fine-tune how your database implements these  mappings. | [@Basic#Basic]\\
[@Enumerated#Enumerated]\\
[@Temporal(not  supported)#Temporal]\\
[@Lob(not  supported)#Lob]\\
[@Transient#Transient]||
| Inheritance | By default, Guzz JPA assumes that all persistent fields are defined by a  single entity class. \\
Use these annotations if your entity class inherits some or all persistent  fields from one or more superclasses. | [@MappedSuperclass#MappedSuperclass] |

h2. @AttributeOverride

By default, Guzz JPA automatically assumes that a subclass inherits both  persistent properties and their basic mappings as defined in a mapped  superclass.

Use the @AttributeOverride annotation to customize a basic  mapping inherited from a [@MappedSuperclass#MappedSuperclass] to change the [@Column#Column] associated with the field or property.

If you have more than one @AttributeOverride change to make, you  must use [@AttributeOverrides#AttributeOverrides].

[Table  1-4#CHDEEJFG] lists the attributes of this annotation. For  more details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/AttributeOverride.html].Table 1-4 @AttributeOverride Attributes
AttributeRequiredDescription|| name || Required
\\
|| The name of the field or property defined in the embedded object or mapped  superclass. ||
| column | Required || The [@Column#Column] that is being mapped to the persistent attribute. The mapping type will remain  the same as is defined in the embeddable class or mapped  superclass. |

[Example  1-5#CHDIACBE] shows how to use @AttributeOverride in the entity subclass  to override the [@Column#Column] defined (by default) in the [@MappedSuperclass#MappedSuperclass] Employee for the basic mapping to id.

With the @AttributeOverride annotation, the PartTimeEmployee table would have the id attribute  mapped to the PTEMP_ID column. Other entity subclasses of Employee would inherit the default mapping to the ID column.

Example 1-4 @MappedSuperclass
{{{
 @MappedSuperclasspublic class Employee {    @Id protected Integer id;    ... }
}}}

Example 1-5 @AttributeOverride

{{{
@Entity
@AttributeOverride(name="id", column=@Column(name="PTEMP_ID"))
public class PartTimeEmployee extends Employee {
...
}
}}}

h2. @AttributeOverrides

If you need to specify more than one [@AttributeOverride#AttributeOverride],  you must specify all your attribute overrides using a single @AttributeOverrides annotation.

[Table  1-5#CHDFHDBB] lists the attributes of this annotation. For  more details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/AttributeOverrides.html].Table 1-5 @AttributeOverrides Attributes
AttributeRequiredDescription|| value || Required
\\
|| To specify two or more attribute overrides, set value to an  array of @AttributeOverride instances (see [@AttributeOverride#AttributeOverride]). ||

[Example  1-6#CHDBFEFG] shows how to use this annotation to specify two attribute overrides.

Example 1-6 @AttributeOverrides
{{{
@Entity
@AttributeOverrides({
@AttributeOverride(name="id", column=@Column(name="PTEMP_ID")),
@AttributeOverride(name="salary", column=@Column(name="SAL"))
}
public class PartTimeEmployee extends Employee {
...
}
}}}

h2. @Basic

By default, Guzz JPA automatically configures a @Basic mapping  for most Java primitive types, wrappers of the primitive types, and enums.

Use the @Basic annotation to configure the fetch type to LAZY.

[Table  1-6#CHDCJEHE] lists the attributes of this annotation. For  more details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/Basic.html].Table 1-6 @Basic Attributes
AttributeRequiredDescription|| fetch || Optional
\\
|| Default: FetchType.EAGER.
\\
By default, Guzz JPA uses a fetch type of EAGER: this is a  requirement on Guzz JPA runtime that data must be eagerly fetched.
\\
If this is inappropriate for your application or a particular persistent  field, set fetch to FetchType.LAZY: this is a hint  that data should be fetched lazily when it is first accessed (if possible). For  more information, see "Lazy Loading" in the _Guide_. ||

[Example  1-7#CHDHHIEF] shows how to use this annotation to specify a fetch type of LAZY for a basic mapping.

Example 1-7 @Basic

{{{
@Entity
public class Book implements Serializable {
...
@Basic(fetch=LAZY)
protected String toc;
...
}
}}}

h2. @Column

By default, Guzz JPA assumes that each of an entity's persistent attributes  is stored in a database table column whose name matches that of the persistent  field or property.

Use the @Column annotation:
* to associate a persistent attribute with a different name if the default  column name is awkward, incompatible with a pre-existing data model, or invalid  as a column name in your database
* to fine-tune the characteristics of a column in your database

[Table  1-7#CHDBAHAG] lists the attributes of this annotation. For  more details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/Column.html].Table 1-7 @Column Attributes
AttributeRequiredDescription|| name || Optional
\\
|| Default: Guzz JPA assumes that each of an entity's  persistent attributes is stored in a database table column whose name matches  that of the persistent field or property.
\\
To specify an alternative column name, set name to the String column name you want. ||
| unique | Optional || Not supported. ||
| nullable | Optional || Not supported. |
| insertable | Optional || Default: true. \\
By default, Guzz JPA assumes that all columns are always included in SQL INSERT statements. \\
If this column should not be included in these statements, set insertable to false. |
| updatable | Optional || Default: true. \\
By default, Guzz JPA assumes that a column is always included in SQL  UPDATE statements. \\
If this column should not be included in these statements, set updatable to false. |
| columnDefinition | Optional || Not supported. You have to create your table on your  own. |
| table | Optional || not supported. |
| length | Optional || not supported. ||
| precision | Optional || not  supported. |
| scale | Optional || not  supported. |

[Example  1-8#CHDCEHDA] shows how to use this annotation to make Guzz JPA persist salary to column SAL in secondary table EMP_SAL. By default, Guzz JPA persists salary to  column salary in primary table EMPLOYEE.

Example 1-8 @Column
{{{
@Entity
@SecondaryTable(name="EMP_SAL")
public class Employee implements Serializable {
...
@Column(name="SAL", table="EMP_SAL")
private Long salary;
...
}
}}}

h2. @Entity

Use the @Entity annotation to designate a plain old Java object  (POJO) class as an entity and make it eligible for JPA services. You must  designate a POJO class as an entity before you can use any other JPA  annotations.

[Table  1-11#CHDJBGAB] lists the attributes of this annotation.  For more details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/Entity.html].Table 1-11 @Entity Attributes
AttributeRequiredDescription|| name || Optional
\\
|| not supported. Use  org.guzz.annotations.Entity to specify the business name  instead. ||

[Example  1-18#CHDHIDBI] shows how to use this annotation.

Example 1-18 @Entity
{{{
@Entity
public class Employee implements Serializable {
...
}
}}}

h2. @Enumerated

By default, Guzz JPA persists the ordinal values of enumerated constants.

Use the @Enumerated annotation to specify whether Guzz JPA  should persist ordinal or String values of enumerated constants if  the String value suits your application requirements or to match an existing  database schema.

This annotation can be used with [@Basic#Basic].

[Table  1-14#CHDFIAEE] lists the attributes of this annotation.  For more details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/Enumerated.html].Table 1-14 @Enumerated Attributes
AttributeRequiredDescription|| value || Optional
\\
|| Default: EnumType.ORDINAL.
\\
By default, Guzz JPA assumes that for a property or field mapped to an  enumerated constant, the ordinal value should be persisted. In [Example  1-26#CHDEJBHG], the ordinal value of EmployeeStatus is written to the  database when Employee is persisted.
\\
If you want the String value of the enumerated constant persisted, set value to EnumType.STRING. ||

Given the enumerated constants in [Example  1-25#CHDEJJFC], [Example  1-26#CHDEJBHG] shows how to use this annotation to specify that the String value of SalaryRate should be written to the  database when Employee is persisted. By default, the ordinal value  of EmployeeStatus is written to the database.

Example 1-25 Enumerated Constants
{{{
public enum EmployeeStatus {FULL_TIME, PART_TIME, CONTRACT}
public enum SalaryRate {JUNIOR, SENIOR, MANAGER, EXECUTIVE}
Example 1-26 @Enumerated
@Entity
public class Employee {
...
public EmployeeStatus getStatus() {
    ...
    }

@Enumerated(STRING)
public SalaryRate getPayScale() {    ...    }
...
}
}}}

h2. @GeneratedValue

By default, the application is responsible for supplying and setting entity  identifiers (see [@Id#Id]).

Use the @GeneratedValue annotation if you want Guzz JPA to  provide and manage entity identifiers.

[Table  1-16#CHDBJHED] lists the attributes of this annotation.  For more details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/GeneratedValue.html].Table 1-16 @GeneratedValue Attributes
AttributeRequiredDescription|| strategy || Optional
\\
|| Default: GenerationType.AUTO.
\\
By default, Guzz JPA chooses the type of primary key generator that is most  appropriate for the underlying database.
\\
If you feel that another generator type is more appropriate for your database  or application, set strategy to the GeneratorType you  want:
* IDENTITY - specify that Guzz JPA use a database identity  column
* AUTO - specify that Guzz JPA should choose a primary key  generator that is most appropriate for the underlying database.
* SEQUENCE - specify that Guzz JPA use a database sequence (see [@SequenceGenerator#SequenceGenerator])
* TABLE - specify that Guzz JPA assign primary keys for the entity  using an underlying database table to ensure uniqueness (see [@TableGenerator#TableGenerator]) ||
| generator | Optional || Default:Guzz JPA assigns a name to the primary key  generator it selects. \\
If this name is awkward, a reserved word, incompatible with a pre-existing  data model, or invalid as a primary key generator name in your database, set generator to the String generator name you want to  use. \\
If you want to use a expanded Generator in guzz, set the generator name you  want to use, and defined a @org.guzz.annotations.GenericGenerator with that  name. ||

[Example  1-33#CHDJHFBJ] shows how to use this annotation to tell Guzz JPA to use a primary key  generator of type GeneratorType.SEQUENCE named CUST_SEQ.

Example 1-33 @GeneratedValue
{{{
@Entity
public class Employee implements Serializable {
...
@Id
@GeneratedValue(strategy=SEQUENCE, generator="CUST_SEQ")
@Column(name="CUST_ID")
public Long getId() {
        return id;
    }
...
}
}}}

h2. @Id

Use the @Id annotation to designate one or more persistent  fields or properties as the entity's primary key.


This annotation has no attributes. For more  details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/Id.html].

[Example  1-34#CHDCEDIC] shows how to use this annotation to designate persistent field empID as the primary key of the Employee table.

Example 1-34 @Id
{{{
@Entity
public class Employee implements Serializable {
@Id
private int empID;
...
}
}}}

h2. @Lob

@Lob is not supported in guzz.
For a Clob, use @org.guzz.annotations.Column, and set type to "clob".
For a Blob, use @org.guzz.annotations.Column, and set type to  "blob".

h2. @MappedSuperclass

By default, Guzz JPA assumes that all the persistent fields of an entity are  defined in that entity.

Use the @MappedSuperclass annotation to designate a superclass  from which your entity class inherits persistent fields. This is a convenient  pattern when multiple entity classes share common persistent fields or  properties.

You can use the [@AttributeOverride#AttributeOverride] annotation in the subclass to override the superclass's mapping  configuration.

This annotation has no attributes. For more  details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/EmbeddableSuperclass.html].

[Example  1-51#CHDFHDJD] shows how to use this annotation to specify Employee as a  mapped superclass. [Example  1-52#CHDDAIHD] shows how to extend this superclass in an entity and how to use [@AttributeOverride#AttributeOverride] in the entity class to override configuration made in the superclass.
Example 1-51 @MappedSuperclass

{{{
@MappedSuperclass
public class Employee {
@Id
protected Integer empId;

protected Integer version;
...
}
}}}

Example 1-52 Extending a @MappedSuperclass
{{{
@Entity
@AttributeOverride(name="address", column=@Column(name="ADDR_ID"))
public class PartTimeEmployee extends Employee {

@Column(name="WAGE")
protected Float hourlyWage;
...
}
}}}

h2. @SequenceGenerator

If you use the [@GeneratedValue#GeneratedValue] annotation to specify a primary key generator of type SEQUENCE(create the  sequence in the database yourself.), then you can use the @SequenceGenerator annotation to fine tune this primary key  generator to:
* change the allocation size to match your application requirements or database  performance parameters
* the initial value is not supported.
* use a pre-defined sequence in an existing data model

[Table  1-42#CHDBBBBA] lists the attributes of this annotation. For more details,  see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/SequenceGenerator.html].Table 1-42 @SequenceGenerator Attributes
AttributeRequiredDescription|| name || Required
\\
|| The name of the SequenceGenerator must match the generator name  in a GeneratedValue with its strategy set to SEQUENCE. ||
| sequenceName | Optional || Default: Guzz JPA assigns a sequence name of its own  creation. \\
If you prefer to use an existing or pre-defined sequence or have a specific  requirement for the name of the sequence, set sequenceName to the String name you want. |
| initialValue | Optional || Default: 0. \\
By default, Guzz JPA starts all primary key values from 0. \\
If this does not match an existing data model, set initialValue to the int value you want. |
| allocationSize | Optional || Default: 50. \\
By default, Guzz JPA uses an allocation size of 50. \\
If this allocation size does not match your application requirements or  database performance parameters, set allocationSize to the int value you want. |

[Example  1-78#CHDBFFAH] shows how to use this annotation to specify the allocation size for the SEQUENCE primary key generator named CUST_SEQ.
Example 1-78 @SequenceGenerator
{{{
@Entity
public class Employee implements Serializable {
...
@Id
@SequenceGenerator(name="CUST_SEQ", allocationSize=25)
@GeneratedValue(strategy=SEQUENCE, generator="CUST_SEQ")
@Column(name="CUST_ID")
public Long getId() {        return id;    }
...
}}}

h2. @Table

By default, Guzz JPA assumes that all the persistent fields of an entity are  stored in a single database table whose name is the entity name (see [@Entity#Entity]).

Use the @Table annotation to specify the primary table  associated with an entity if:
* the entity name is awkward, a reserved word, incompatible with a pre-existing  data model, or invalid as a table name in your database
* you need to control what catalog or schema the table belongs to

[Table  1-45#CHDGEAJB] lists the attributes of this annotation.  For more details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/Table.html].Table 1-45 @Table Attributes
AttributeRequiredDescription|| name || Optional
\\
|| Default: Guzz JPA assumes that an entity's database  table has the same name as the entity class. In [Example  1-84#CHDCGHGA], the default name is Employee.
\\
If the entity class name is awkward, a reserved word, or incompatible with a  pre-existing data model, set name to the appropriate database table  name. In [Example  1-84#CHDCGHGA], Guzz JPA persists the entity class Employee in the  database table named EMP. ||
| catalog | Optional || Default: Guzz JPA uses whatever the default catalog  is for your database. \\
If the default catalog is inappropriate for your application, set the catalog to the String catalog name to  use. |
| schema | Optional || Default: Guzz JPA uses whatever the default schema is  for your database. \\
If the default schema is inappropriate for your application, set the schema to the String schema name to use. |
| uniqueConstraints | Optional || Not  supported. ||

[Example  1-84#CHDCGHGA] shows how to use this annotation to specify the primary table name.
Example 1-84 @Table
{{{
@Entity
@Table(name="EMP")
public class Employee implements Serializable {
...
}
}}}

h2. @Temporal

Not supported.

For to java.sql.Timestamp, use  @org.guzz.annotations.Column, and set type to "datetime" .


For to java.sql.Date, use @org.guzz.annotations.Column, and set type to  "date" .

For to java.sql.Time, use  @org.guzz.annotations.Column, and set type to "time" .

h2. @Transient

By default, Guzz JPA assumes that all the fields of an entity are  persistent.

Use the @Transient annotation to specify a field or property of  an entity that is not persistent, for example, a field or property that is used  at run time but that is not part of the entity's state.

Guzz JPA will not persist (or create database schema) for a property or field  annotated as @Transient.

This annotation can be used within classes denoted by [@Entity#Entity], [@MappedSuperclass#MappedSuperclass].

This annotation has no attributes. For more  details, see the [API|http://java.sun.com/javaee/5/docs/api/javax/persistence/Transient.html].

[Example  1-87#CHDIHFCF] shows how to use this annotation to specify Employee field currentSession as not persistent. Guzz JPA will not persist this  field.
Example 1-87 @Transient

{{{
@Entity public class Employee {    @Id int id;    @Transient Session currentSession;    ...}
}}}

h2. Index of Annotations

* A
** [@AttributeOverride#AttributeOverride]
** [@AttributeOverrides#AttributeOverrides]
* B
** [@Basic#Basic]
* C
** [@Column#ColumnResult]
* E
** [@Entity#Entity]
** [@Enumerated#Enumerated]
* G
** [@GeneratedValue#GeneratedValue]
* I
** [@Id#Id]
* L
** [@Lob#Lob]
* M
** [@MappedSuperclass#MappedSuperclass]
* S
** [@SequenceGenerator#SequenceGenerator]
* T
** [@Table#Table]
** [@TableGenerator#TableGenerator]
** [@Temporal#Temporal]
** [@Transient#Transient]
